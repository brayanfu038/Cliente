<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src='main.js'></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <style>
        body {
            background-color: cornflowerblue;
        }

        table thead {
            background: #302b63;
            color: white;
        }

        .container {
            max-height: 300px;
            /* Altura m치xima para que se active el scroll vertical */
            overflow-y: auto;
            /* A침adir scroll vertical si la tabla excede la altura m치xima */
        }
    </style>
</head>

<body>

    <div class="container mt-4 shadow-lg p-3 mb-5 bg-body rounded">
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>license_plate</th>
                    <th>color</th>
                    <th>entry_time</th>
                    <th>carPhoto</th>
                </tr>
            </thead>
            <tbody id="data">
            </tbody>
        </table>
        <a href="mainPanel.html">Volver a la p치gina principal</a>
    </div>
    <script>
        let url = 'http://localhost:8081/get/cars';
          fetch(url)
              .then( response => response.json() )
              .then( data => mostrarData(data) )
              .catch( error => console.log(error) )
  
          const mostrarData = (data) => {
              console.log(data)
              let body = ""
              for (var i = 0; i < data.length; i++) {      
                 body+=`<tr><td>${data[i].license_plate}</td><td>${data[i].color}</td><td>${data[i].entry_time}</td><td>${data[i].carPhoto}</td></tr>`
              }
              document.getElementById('data').innerHTML = body
              //console.log(body)
          }
      </script>
</body>

</html>